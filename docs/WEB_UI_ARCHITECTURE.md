# Web UI Architecture - OpenClass Nexus AI

Dokumentasi arsitektur teknis untuk Web UI implementation.

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SEKOLAH / LAB KOMPUTER                  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Browser 1   â”‚  â”‚  Browser 2   â”‚  â”‚  Browser N   â”‚        â”‚
â”‚  â”‚  (Siswa A)   â”‚  â”‚  (Siswa B)   â”‚  â”‚  (Guru)      â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚         â”‚                  â”‚                  â”‚                 â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                            â”‚                                     â”‚
â”‚                   HTTP (LAN/WiFi)                               â”‚
â”‚                            â”‚                                     â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                   â”‚  FastAPI Server â”‚                          â”‚
â”‚                   â”‚  (Port 8000)    â”‚                          â”‚
â”‚                   â”‚                 â”‚                          â”‚
â”‚                   â”‚  â€¢ REST API     â”‚                          â”‚
â”‚                   â”‚  â€¢ Static Files â”‚                          â”‚
â”‚                   â”‚  â€¢ CORS         â”‚                          â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                            â”‚                                     â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                   â”‚  RAG Pipeline   â”‚                          â”‚
â”‚                   â”‚                 â”‚                          â”‚
â”‚                   â”‚  â€¢ Query        â”‚                          â”‚
â”‚                   â”‚  â€¢ Retrieval    â”‚                          â”‚
â”‚                   â”‚  â€¢ Generation   â”‚                          â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                            â”‚                                     â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚         â”‚                  â”‚                  â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Vector DB  â”‚  â”‚  LLM (Llama)    â”‚  â”‚  Text Data â”‚        â”‚
â”‚  â”‚  (ChromaDB) â”‚  â”‚  (GGUF Local)   â”‚  â”‚  (BSE)     â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                 â”‚
â”‚                    SEMUA OFFLINE - NO INTERNET                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Component Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FRONTEND LAYER                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  index.html  â”‚  â”‚  styles.css  â”‚  â”‚   app.js     â”‚        â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚        â”‚
â”‚  â”‚  â€¢ Structure â”‚  â”‚  â€¢ Styling   â”‚  â”‚  â€¢ Logic     â”‚        â”‚
â”‚  â”‚  â€¢ 3 Modes   â”‚  â”‚  â€¢ Colors    â”‚  â”‚  â€¢ API Calls â”‚        â”‚
â”‚  â”‚  â€¢ Componentsâ”‚  â”‚  â€¢ Responsiveâ”‚  â”‚  â€¢ State Mgmtâ”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP/REST
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         BACKEND LAYER                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    api_server.py                         â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚
â”‚  â”‚  â”‚  Student   â”‚  â”‚  Teacher   â”‚  â”‚   Admin    â”‚       â”‚ â”‚
â”‚  â”‚  â”‚  Endpoints â”‚  â”‚  Endpoints â”‚  â”‚  Endpoints â”‚       â”‚ â”‚
â”‚  â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚       â”‚ â”‚
â”‚  â”‚  â”‚ /api/chat  â”‚  â”‚ /api/      â”‚  â”‚ /api/admin/â”‚       â”‚ â”‚
â”‚  â”‚  â”‚            â”‚  â”‚ teacher/   â”‚  â”‚  status    â”‚       â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚           Application State                      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ RAG Pipeline Instance                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Chat Logs                                     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Config Manager                                â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Python API
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DATA LAYER                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  ChromaDB    â”‚  â”‚  Llama Model â”‚  â”‚  Text Files  â”‚        â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚        â”‚
â”‚  â”‚  â€¢ Vectors   â”‚  â”‚  â€¢ GGUF      â”‚  â”‚  â€¢ BSE PDFs  â”‚        â”‚
â”‚  â”‚  â€¢ Metadata  â”‚  â”‚  â€¢ Inference â”‚  â”‚  â€¢ Processed â”‚        â”‚
â”‚  â”‚  â€¢ Search    â”‚  â”‚  â€¢ Local     â”‚  â”‚  â€¢ Metadata  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Request Flow

### Student Chat Flow

```
1. User Input
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Browser    â”‚  User types: "Jelaskan algoritma"
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ POST /api/chat
          â”‚ { message: "Jelaskan algoritma", subject_filter: "informatika" }
          â”‚
2. API Endpoint
   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
   â”‚  FastAPI    â”‚  Receive request, validate
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ Call RAG Pipeline
          â”‚
3. RAG Processing
   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
   â”‚ RAG Pipelineâ”‚
   â”‚             â”‚
   â”‚ a) Embed    â”‚  Convert query to vector
   â”‚ b) Retrieve â”‚  Search ChromaDB for relevant docs
   â”‚ c) Generate â”‚  LLM generates answer with context
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ Return result
          â”‚
4. Response
   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
   â”‚  FastAPI    â”‚  Format response, add metadata
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ JSON Response
          â”‚ { response: "...", source: "...", confidence: 0.9 }
          â”‚
5. Display
   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
   â”‚  Browser    â”‚  Show answer with source
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Teacher Dashboard Flow

```
1. Mode Switch
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Browser    â”‚  Click "Guru" button
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ GET /api/teacher/stats
          â”‚
2. API Endpoint
   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
   â”‚  FastAPI    â”‚  Analyze chat logs
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ Process logs
          â”‚ â€¢ Count questions
          â”‚ â€¢ Group by topic
          â”‚ â€¢ Calculate stats
          â”‚
3. Response
   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
   â”‚  Browser    â”‚  Display dashboard
   â”‚             â”‚  â€¢ Total questions: 127
   â”‚             â”‚  â€¢ Popular topic: Algoritma
   â”‚             â”‚  â€¢ Active students: 15
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—‚ï¸ File Structure

```
openclass-nexus/
â”‚
â”œâ”€â”€ frontend/                    # Frontend files (served by FastAPI)
â”‚   â”œâ”€â”€ index.html              # Main HTML structure
â”‚   â”‚   â”œâ”€â”€ Header (logo, mode selector)
â”‚   â”‚   â”œâ”€â”€ Student Mode (chat interface)
â”‚   â”‚   â”œâ”€â”€ Teacher Mode (dashboard)
â”‚   â”‚   â””â”€â”€ Admin Mode (system panel)
â”‚   â”‚
â”‚   â”œâ”€â”€ styles.css              # Styling
â”‚   â”‚   â”œâ”€â”€ Global variables (colors, fonts)
â”‚   â”‚   â”œâ”€â”€ Layout (grid, flexbox)
â”‚   â”‚   â”œâ”€â”€ Components (buttons, cards)
â”‚   â”‚   â””â”€â”€ Responsive (media queries)
â”‚   â”‚
â”‚   â””â”€â”€ app.js                  # JavaScript logic
â”‚       â”œâ”€â”€ State management
â”‚       â”œâ”€â”€ API calls (fetch)
â”‚       â”œâ”€â”€ Event listeners
â”‚       â””â”€â”€ UI updates
â”‚
â”œâ”€â”€ api_server.py               # FastAPI backend
â”‚   â”œâ”€â”€ App initialization
â”‚   â”œâ”€â”€ CORS middleware
â”‚   â”œâ”€â”€ Static file serving
â”‚   â”œâ”€â”€ API endpoints
â”‚   â”‚   â”œâ”€â”€ /api/chat (POST)
â”‚   â”‚   â”œâ”€â”€ /api/teacher/stats (GET)
â”‚   â”‚   â”œâ”€â”€ /api/teacher/export (GET)
â”‚   â”‚   â”œâ”€â”€ /api/admin/status (GET)
â”‚   â”‚   â””â”€â”€ /api/admin/* (POST)
â”‚   â””â”€â”€ Application state
â”‚
â”œâ”€â”€ src/                        # Existing components
â”‚   â”œâ”€â”€ rag/
â”‚   â”‚   â””â”€â”€ rag_pipeline.py    # RAG logic (reused)
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ config_manager.py  # Config (reused)
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ data/                       # Data files
    â”œâ”€â”€ vector_db/             # ChromaDB
    â”œâ”€â”€ processed/             # Text files
    â””â”€â”€ models/                # LLM model
```

## ğŸ”Œ API Endpoints

### Student Endpoints

```
POST /api/chat
Request:
{
  "message": "Jelaskan apa itu algoritma",
  "subject_filter": "informatika",
  "history": [...]
}

Response:
{
  "response": "Algoritma adalah urutan langkah-langkah...",
  "source": "Informatika Kelas X, Hal 45",
  "confidence": 0.92
}
```

### Teacher Endpoints

```
GET /api/teacher/stats
Response:
{
  "total_questions": 127,
  "popular_topic": "Algoritma",
  "active_students": 15,
  "topics": [
    {"name": "Algoritma", "count": 45},
    {"name": "Jaringan", "count": 32},
    ...
  ]
}

GET /api/teacher/export?format=csv
Response: CSV file download
```

### Admin Endpoints

```
GET /api/admin/status
Response:
{
  "model_status": "Aktif",
  "db_status": "Terhubung",
  "version": "1.0.0",
  "ram_usage": "2.1 GB / 4 GB",
  "storage_usage": "5.2 GB / 20 GB"
}

POST /api/admin/update-model
Response:
{
  "message": "Update berhasil"
}
```

## ğŸ’¾ Data Flow

### Chat Log Storage

```
In-Memory (Runtime):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  state.chat_logs = [                â”‚
â”‚    {                                 â”‚
â”‚      timestamp: "2024-01-15T10:30", â”‚
â”‚      question: "...",                â”‚
â”‚      subject: "informatika",         â”‚
â”‚      response_length: 250            â”‚
â”‚    },                                â”‚
â”‚    ...                               â”‚
â”‚  ]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Persistent (Backup):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  backups/                            â”‚
â”‚  â””â”€â”€ backup_20240115_103000.json    â”‚
â”‚      {                               â”‚
â”‚        "timestamp": "...",           â”‚
â”‚        "chat_logs": [...],           â”‚
â”‚        "config": {...}               â”‚
â”‚      }                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SECURITY LAYERS                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Layer 1: Network Isolation                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â€¢ Local network only (no internet)                       â”‚ â”‚
â”‚  â”‚  â€¢ Firewall rules (optional)                              â”‚ â”‚
â”‚  â”‚  â€¢ LAN access only                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  Layer 2: Application Security                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â€¢ CORS (localhost + LAN)                                 â”‚ â”‚
â”‚  â”‚  â€¢ Input validation (Pydantic)                            â”‚ â”‚
â”‚  â”‚  â€¢ No authentication (trusted network)                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  Layer 3: Data Privacy                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â€¢ No external API calls                                  â”‚ â”‚
â”‚  â”‚  â€¢ No telemetry                                           â”‚ â”‚
â”‚  â”‚  â€¢ Anonymous usage                                        â”‚ â”‚
â”‚  â”‚  â€¢ Local storage only                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ˆ Scalability

### Current Capacity

```
Single Server Instance:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Concurrent Users:  10-50           â”‚
â”‚  Requests/sec:      5-10            â”‚
â”‚  Response Time:     1-2s            â”‚
â”‚  RAM Usage:         2-3 GB          â”‚
â”‚  CPU Usage:         30-50%          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Scaling Options

```
Option 1: Vertical Scaling
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ Upgrade RAM (4GB â†’ 8GB)          â”‚
â”‚  â€¢ Faster CPU                       â”‚
â”‚  â€¢ SSD storage                      â”‚
â”‚  â†’ Capacity: 50-100 users           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Option 2: Horizontal Scaling (Future)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ Multiple server instances        â”‚
â”‚  â€¢ Load balancer                    â”‚
â”‚  â€¢ Shared vector DB                 â”‚
â”‚  â†’ Capacity: 100+ users             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ State Management

### Frontend State

```javascript
const state = {
  currentMode: 'student',        // student | teacher | admin
  chatHistory: [],               // Array of messages
  currentSubject: 'all',         // Filter selection
  isProcessing: false            // Loading state
};
```

### Backend State

```python
class AppState:
    rag_pipeline: RAGPipeline     # Initialized once
    config_manager: ConfigManager # Config instance
    chat_logs: List[Dict]         # All interactions
    is_initialized: bool          # Ready status
```

## ğŸ¯ Performance Optimization

### Frontend Optimizations

```
1. Minimal Dependencies
   â€¢ No jQuery, React, Vue
   â€¢ Pure vanilla JS
   â€¢ Inline CSS (no external CDN)

2. Lazy Loading
   â€¢ Load mode content on demand
   â€¢ Defer non-critical JS

3. Caching
   â€¢ Browser cache for static files
   â€¢ LocalStorage for preferences
```

### Backend Optimizations

```
1. Connection Pooling
   â€¢ Reuse RAG pipeline instance
   â€¢ Keep model in memory

2. Async Processing
   â€¢ FastAPI async endpoints
   â€¢ Non-blocking I/O

3. Response Caching (Future)
   â€¢ Cache common queries
   â€¢ TTL-based invalidation
```

## ğŸ§ª Testing Strategy

```
Unit Tests:
â”œâ”€â”€ test_api_endpoints.py
â”‚   â”œâ”€â”€ test_chat_endpoint()
â”‚   â”œâ”€â”€ test_teacher_stats()
â”‚   â””â”€â”€ test_admin_status()
â”‚
Integration Tests:
â”œâ”€â”€ test_rag_integration.py
â”‚   â”œâ”€â”€ test_end_to_end_query()
â”‚   â””â”€â”€ test_multi_user_scenario()
â”‚
UI Tests:
â””â”€â”€ test_frontend.js
    â”œâ”€â”€ test_mode_switching()
    â”œâ”€â”€ test_chat_interaction()
    â””â”€â”€ test_responsive_layout()
```

## ğŸ“Š Monitoring & Logging

```
Application Logs:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [INFO] Server started              â”‚
â”‚  [INFO] RAG pipeline initialized    â”‚
â”‚  [INFO] User query: "..."           â”‚
â”‚  [INFO] Response time: 1.2s         â”‚
â”‚  [ERROR] Model inference failed     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

System Metrics:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ RAM usage (psutil)               â”‚
â”‚  â€¢ CPU usage                        â”‚
â”‚  â€¢ Disk usage                       â”‚
â”‚  â€¢ Request count                    â”‚
â”‚  â€¢ Error rate                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Analytics:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ Questions per hour               â”‚
â”‚  â€¢ Popular topics                   â”‚
â”‚  â€¢ Average response time            â”‚
â”‚  â€¢ User satisfaction (future)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Deployment Architecture

### Development

```
Developer Machine:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  python api_server.py               â”‚
â”‚  â†’ http://localhost:8000            â”‚
â”‚                                     â”‚
â”‚  â€¢ Hot reload                       â”‚
â”‚  â€¢ Debug mode                       â”‚
â”‚  â€¢ Detailed logs                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Production (School)

```
School Server:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  start_web_ui.bat                   â”‚
â”‚  â†’ http://192.168.1.100:8000        â”‚
â”‚                                     â”‚
â”‚  â€¢ Production mode                  â”‚
â”‚  â€¢ Error handling                   â”‚
â”‚  â€¢ Monitoring                       â”‚
â”‚  â€¢ Auto-restart (optional)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Student Computers:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Browser â†’ http://192.168.1.100:8000â”‚
â”‚                                     â”‚
â”‚  â€¢ No installation needed           â”‚
â”‚  â€¢ Just open browser                â”‚
â”‚  â€¢ Works on any device              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Architecture Version:** 1.0.0

**Last Updated:** 2024-01-15

**Status:** âœ… Production Ready
