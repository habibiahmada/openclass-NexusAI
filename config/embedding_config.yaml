# Embedding Strategy Configuration
# Configures embedding generation for the RAG pipeline

embedding:
  # Default strategy: 'bedrock' (AWS Bedrock Titan) or 'local' (MiniLM)
  default_strategy: bedrock
  
  # Enable automatic fallback to local strategy if AWS is unavailable
  fallback_enabled: true
  
  # Sovereign mode: Use only local embeddings (no AWS dependency)
  sovereign_mode: false
  
  # Bedrock configuration (AWS Bedrock Titan)
  bedrock:
    model_id: amazon.titan-embed-text-v1
    region: us-east-1
    timeout: 60  # seconds (increased from 30 for better reliability)
    max_workers: 3  # parallel workers for batch processing
  
  # Local configuration (MiniLM)
  local:
    # Model path: HuggingFace model name or local path
    # Default: sentence-transformers/all-MiniLM-L6-v2 (384 dimensions)
    model_path: sentence-transformers/all-MiniLM-L6-v2
    
    # Number of CPU threads for inference
    n_threads: 4
